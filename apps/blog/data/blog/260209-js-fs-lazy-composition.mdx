---
title: 'ê²Œìœ¼ë¥¸ í•¨ìˆ˜ë¡œ ë¶€ì§€ëŸ°í•œ í•¨ìˆ˜ ë§Œë“¤ê¸° ğŸ¢'
date: '2026-02-09'
tags: ['javascript', 'functional-programming', 'lazy-evaluation', 'iterable', 'composition']
draft: false
summary: 'ì§€ì—° í‰ê°€ í•¨ìˆ˜ë“¤ì´ ë‹¨ìˆœí•œ ì„±ëŠ¥ ìµœì í™” ìš©ë„ë¡œë§Œ ìƒê°í•˜ì§€ ë§ì. ì§€ì—°í‰ê°€ í•¨ìˆ˜ëŠ” ì¦‰ì‹œ í‰ê°€ í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ì¬ë£Œê°€ ë  ìˆ˜ ìˆë‹¤. L.entries, join, takeAllì„ êµ¬í˜„í•˜ê³ , L.mapê³¼ L.filterë¡œ mapê³¼ filterë¥¼ ì¬êµ¬ì„±í•´ë³´ì. '
images:
  - '/static/images/walking.png'
---

![ê²Œìœ¼ë¥¸ í•¨ìˆ˜ë¡œ ë¶€ì§€ëŸ°í•œ í•¨ìˆ˜ ë§Œë“¤ê¸°](/static/images/walking.png)

## L.entries

### Object.entries()ëŠ” ë­˜ í•˜ë‚˜?

ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ê°ì²´ì˜ í‚¤-ê°’ ìŒì„ ë°°ì—´ë¡œ ê°€ì ¸ì˜¬ ë•Œ `Object.entries()`ë¥¼ ì‚¬ìš©í•œë‹¤.

```javascript
Object.entries({ a: 1, b: 2, c: 3 })
// [["a", 1], ["b", 2], ["c", 3]]
```

í¸ë¦¬í•˜ì§€ë§Œ, í˜¸ì¶œí•˜ëŠ” ìˆœê°„ **ëª¨ë“  í‚¤-ê°’ ìŒì„ ë‹´ì€ ë°°ì—´ì´ ì¦‰ì‹œ ìƒì„±**ëœë‹¤. ì´ë¯¸ ìµìˆ™í•œ íŒ¨í„´ì´ë‹¤. `range`ê°€ ë°°ì—´ì„ ì¦‰ì‹œ ë§Œë“¤ì—ˆë˜ ê²ƒì²˜ëŸ¼.

### L.entries êµ¬í˜„

ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•´ì„œ ì§€ì—° í‰ê°€ ë²„ì „ì„ ë§Œë“¤ì–´ë³´ì.

```javascript
L.entries = function* (obj) {
  for (const k in obj) {
    yield [k, obj[k]]
  }
}
```

`for...in`ìœ¼ë¡œ ê°ì²´ì˜ í‚¤ë¥¼ ìˆœíšŒí•˜ë©´ì„œ, ê° í‚¤-ê°’ ìŒì„ `yield`ë¡œ í•˜ë‚˜ì”© ë‚´ë³´ë‚¸ë‹¤.

```javascript
const iterator = L.entries({ a: 1, b: 2, c: 3 })
console.log(iterator) // L.entries {<suspended>}

console.log(iterator.next()) // { value: ["a", 1], done: false }
console.log(iterator.next()) // { value: ["b", 2], done: false }
console.log(iterator.next()) // { value: ["c", 3], done: false }
console.log(iterator.next()) // { value: undefined, done: true }
```

`Object.entries()`ì™€ì˜ ì°¨ì´ëŠ” `range`ì™€ `L.range`ì˜ ì°¨ì´ì™€ ê°™ë‹¤. í˜¸ì¶œ ì¦‰ì‹œ ë°°ì—´ì„ ë§Œë“œëŠëƒ, ìš”ì²­í•  ë•Œ í•˜ë‚˜ì”© ë§Œë“¤ì–´ì£¼ëŠëƒì˜ ì°¨ì´ë‹¤.

ê·¸ë¦¬ê³  ê²°ê³¼ê°€ ì´í„°ëŸ¬ë¸”ì´ê¸° ë•Œë¬¸ì—, ìš°ë¦¬ê°€ ë§Œë“¤ì–´ì˜¨ `map`, `filter`, `reduce`, `pipe` ê°™ì€ í•¨ìˆ˜ë“¤ê³¼ ìì—°ìŠ¤ëŸ½ê²Œ ì¡°í•©í•  ìˆ˜ ìˆë‹¤. ì´ê²ƒì´ í•µì‹¬ì´ë‹¤.

## join

### Array.prototype.joinì˜ í•œê³„

ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ `Array.prototype.join`ì€ **ë°°ì—´ì—ì„œë§Œ** ë™ì‘í•œë‹¤.

```javascript
;[1, 2, 3].join(' - ') // "1 - 2 - 3"
```

ë§Œì•½ ë°°ì—´ì´ ì•„ë‹Œ ì´í„°ëŸ¬ë¸”(ì˜ˆë¥¼ ë“¤ì–´ ì œë„ˆë ˆì´í„°ì˜ ê²°ê³¼)ì—ì„œ `join`ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´? ì§ì ‘ ë§Œë“¤ì–´ì•¼ í•œë‹¤.

### ëª¨ë“  ì´í„°ëŸ¬ë¸”ì—ì„œ ë™ì‘í•˜ëŠ” join

`curry`ì™€ `reduce`ë¥¼ í™œìš©í•˜ë©´ ê°„ë‹¨í•˜ë‹¤.

```javascript
const join = curry((sep = ',', iter) => reduce((a, b) => `${a}${sep}${b}`, iter))
```

`reduce`ê°€ ì´í„°ëŸ¬ë¸” í”„ë¡œí† ì½œì„ ë”°ë¥´ê¸° ë•Œë¬¸ì—, ì´ `join`ì€ ë°°ì—´ë¿ë§Œ ì•„ë‹ˆë¼ **ëª¨ë“  ì´í„°ëŸ¬ë¸”**ì—ì„œ ë™ì‘í•œë‹¤.

```javascript
// ë°°ì—´ê³¼ í•¨ê»˜
join(' - ', [1, 2, 3]) // "1 - 2 - 3"

// ì œë„ˆë ˆì´í„° ê²°ê³¼ì™€ í•¨ê»˜
join(
  ' | ',
  L.map((a) => a * 10, [1, 2, 3])
) // "10 | 20 | 30"
```

### L.entries + join ì¡°í•©

ì´ ë‘ í•¨ìˆ˜ë¥¼ ì¡°í•©í•˜ë©´ ì¬ë¯¸ìˆëŠ” ê²ƒì„ í•  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ê°ì²´ë¥¼ ì¿¼ë¦¬ìŠ¤íŠ¸ë§ìœ¼ë¡œ ë³€í™˜í•´ë³´ì.

```javascript
const queryStr = pipe(
  L.entries,
  L.map(([k, v]) => `${k}=${v}`),
  join('&')
)

queryStr({ limit: 10, offset: 20, type: 'notice' })
// "limit=10&offset=20&type=notice"
```

`L.entries`ê°€ ê°ì²´ë¥¼ `[í‚¤, ê°’]` ìŒì˜ ì´í„°ëŸ¬ë¸”ë¡œ ë§Œë“¤ê³ , `L.map`ì´ ê° ìŒì„ `í‚¤=ê°’` ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ê³ , `join`ì´ `&`ë¡œ ì´ì–´ë¶™ì¸ë‹¤. ì¤‘ê°„ì— ë°°ì—´ì´ í•œ ë²ˆë„ ë§Œë“¤ì–´ì§€ì§€ ì•ŠëŠ”ë‹¤. ëª¨ë“  ê²ƒì´ ì´í„°ëŸ¬ë¸” í”„ë¡œí† ì½œ ìœ„ì—ì„œ í˜ëŸ¬ê°„ë‹¤.

## takeAll

### take í•¨ìˆ˜ ë³µìŠµ

[ì´ì „ì— ë§Œë“¤ì—ˆë˜](/blog/260201-js-fs-range-take) `take` í•¨ìˆ˜ë¥¼ ì ê¹ ë‹¤ì‹œ ë³´ì.

```javascript
const take = curry((l, iter) => {
  let res = []
  for (const a of iter) {
    res.push(a)
    if (res.length == l) return res
  }
  return res
})
```

`take`ëŠ” ì´í„°ëŸ¬ë¸”ì—ì„œ ì•ì—ì„œë¶€í„° `l`ê°œë§Œ ê°€ì ¸ì™€ì„œ ë°°ì—´ë¡œ ë°˜í™˜í•œë‹¤. `take(3, [1, 2, 3, 4, 5])`ëŠ” `[1, 2, 3]`ì„ ë°˜í™˜í•œë‹¤.

### takeAll = take(Infinity)

ê·¸ë ‡ë‹¤ë©´ `take(Infinity)`ëŠ” ë­˜ê¹Œ? ì´í„°ëŸ¬ë¸”ì˜ **ëª¨ë“  ê°’**ì„ ë°°ì—´ë¡œ ìˆ˜ì§‘í•œë‹¤.

```javascript
const takeAll = take(Infinity)
```

ëì´ë‹¤. `take`ì— `curry`ê°€ ì ìš©ë˜ì–´ ìˆìœ¼ë‹ˆ, `take(Infinity)`ëŠ” "ì´í„°ëŸ¬ë¸”ì„ ë°›ì•„ì„œ ëª¨ë“  ê°’ì„ ë°°ì—´ë¡œ ë§Œë“œëŠ” í•¨ìˆ˜"ë¥¼ ë°˜í™˜í•œë‹¤.

```javascript
takeAll(L.map((a) => a * 10, [1, 2, 3])) // [10, 20, 30]
takeAll(L.filter((a) => a % 2, [1, 2, 3, 4])) // [1, 3]
```

`takeAll`ì´ ì™œ ì¤‘ìš”í•œì§€ëŠ” ë°”ë¡œ ë‹¤ìŒ ì„¹ì…˜ì—ì„œ ë“œëŸ¬ë‚œë‹¤. **ì§€ì—° í‰ê°€ì˜ ê²°ê³¼ë¥¼ ì¦‰ì‹œ í‰ê°€ë¡œ ì „í™˜í•˜ëŠ” ë‹¤ë¦¬** ì—­í• ì„ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

## L.mapìœ¼ë¡œ ë§Œë“œëŠ” map

### ê¸°ì¡´ map ì½”ë“œ

ì§€ê¸ˆê¹Œì§€ ì‚¬ìš©í•´ì˜¨ `map`ì€ ì´ë ‡ê²Œ ìƒê²¼ë‹¤.

```javascript
const map = curry((f, iter) => {
  let res = []
  for (const a of iter) {
    res.push(f(a))
  }
  return res
})
```

`for`ë¬¸ì„ ëŒë©´ì„œ ê²°ê³¼ë¥¼ `push`í•œë‹¤. ì§ê´€ì ì´ê³  ì˜ ë™ì‘í•œë‹¤.

### L.map + takeAll = map

ê·¸ëŸ°ë° ì ê¹, ìœ„ì˜ `map`ì´ í•˜ëŠ” ì¼ì„ ë¶„í•´í•´ë³´ë©´ ì´ë ‡ë‹¤.

1. ì´í„°ëŸ¬ë¸”ì˜ ê° ìš”ì†Œì— í•¨ìˆ˜ `f`ë¥¼ ì ìš©í•œë‹¤ â†’ **`L.map`ì´ í•˜ëŠ” ì¼**
2. ê·¸ ê²°ê³¼ë¥¼ ì „ë¶€ ë°°ì—´ë¡œ ëª¨ì€ë‹¤ â†’ **`takeAll`ì´ í•˜ëŠ” ì¼**

ê·¸ë ‡ë‹¤ë©´ `map`ì„ ì´ë ‡ê²Œ ë‹¤ì‹œ ì“¸ ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ?

```javascript
const map = curry(pipe(L.map, takeAll))
```

ì´ê²Œ ì „ë¶€ë‹¤. `L.map`ìœ¼ë¡œ ì§€ì—° ì´í„°ë ˆì´í„°ë¥¼ ë§Œë“¤ê³ , `takeAll`ë¡œ ëª¨ë“  ê°’ì„ ë°°ì—´ë¡œ ìˆ˜ì§‘í•œë‹¤.

ì‹¤ì œë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•´ë³´ì.

```javascript
map((a) => a + 10, [1, 2, 3]) // [11, 12, 13]
```

ê¸°ì¡´ `map`ê³¼ ì™„ì „íˆ ë™ì¼í•œ ê²°ê³¼ê°€ ë‚˜ì˜¨ë‹¤.

### ë™ì‘ ì›ë¦¬ë¥¼ í’€ì–´ë³´ë©´

`map(a => a + 10, [1, 2, 3])`ì´ ì‹¤í–‰ë˜ë©´ ë‚´ë¶€ì ìœ¼ë¡œ ì´ëŸ° ì¼ì´ ì¼ì–´ë‚œë‹¤.

```javascript
// 1ë‹¨ê³„: L.mapì´ ì§€ì—° ì´í„°ë ˆì´í„°ë¥¼ ë§Œë“ ë‹¤
const iterator = L.map((a) => a + 10, [1, 2, 3])
// ì•„ì§ ì•„ë¬´ ê³„ì‚°ë„ í•˜ì§€ ì•Šì•˜ë‹¤

// 2ë‹¨ê³„: takeAllì´ ì´í„°ë ˆì´í„°ì˜ ëª¨ë“  ê°’ì„ êº¼ë‚¸ë‹¤
takeAll(iterator) // [11, 12, 13]
// next()ë¥¼ ë°˜ë³µ í˜¸ì¶œí•´ì„œ ëª¨ë“  ê°’ì„ ë°°ì—´ë¡œ ëª¨ì€ë‹¤
```

`pipe`ê°€ `L.map`ì˜ ê²°ê³¼ë¥¼ `takeAll`ì—ê²Œ ì „ë‹¬í•˜ê³ , `curry`ê°€ ì¸ìë¥¼ ë‚˜ëˆ ì„œ ë°›ì„ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. ì§€ê¸ˆê¹Œì§€ ë§Œë“¤ì–´ì˜¨ ë„êµ¬ë“¤ì´ ë§ë¬¼ë ¤ì„œ ëŒì•„ê°€ëŠ” ìˆœê°„ì´ë‹¤.

## L.filterë¡œ ë§Œë“œëŠ” filter

### ê¸°ì¡´ filter ì½”ë“œ

`filter`ë„ ë§ˆì°¬ê°€ì§€ë‹¤. ê¸°ì¡´ ì½”ë“œë¥¼ ë³´ì.

```javascript
const filter = curry((f, iter) => {
  let res = []
  for (const a of iter) {
    if (f(a)) res.push(a)
  }
  return res
})
```

### L.filter + takeAll = filter

`filter`ê°€ í•˜ëŠ” ì¼ë„ ë¶„í•´í•˜ë©´ ë˜‘ê°™ì€ íŒ¨í„´ì´ë‹¤.

1. ì´í„°ëŸ¬ë¸”ì˜ ê° ìš”ì†Œë¥¼ ì¡°ê±´ìœ¼ë¡œ ê±¸ëŸ¬ë‚¸ë‹¤ â†’ **`L.filter`ê°€ í•˜ëŠ” ì¼**
2. ê·¸ ê²°ê³¼ë¥¼ ì „ë¶€ ë°°ì—´ë¡œ ëª¨ì€ë‹¤ â†’ **`takeAll`ì´ í•˜ëŠ” ì¼**

```javascript
const filter = curry(pipe(L.filter, takeAll))
```

ë™ì¼í•œ íŒ¨í„´ì´ë‹¤. í™•ì¸í•´ë³´ì.

```javascript
filter((a) => a % 2, [1, 2, 3, 4]) // [1, 3]
```

ê¸°ì¡´ `filter`ì™€ ì™„ì „íˆ ê°™ì€ ê²°ê³¼ë‹¤.

### íŒ¨í„´ì´ ë³´ì¸ë‹¤

ë‘ í•¨ìˆ˜ë¥¼ ë‚˜ë€íˆ ë†“ìœ¼ë©´ íŒ¨í„´ì´ ëª…í™•í•´ì§„ë‹¤.

```javascript
const map = curry(pipe(L.map, takeAll))
const filter = curry(pipe(L.filter, takeAll))
```

**ì§€ì—° í•¨ìˆ˜ + takeAll = ì¦‰ì‹œ í•¨ìˆ˜**

`L.map`ê³¼ `L.filter`ëŠ” ì´í„°ëŸ¬ë¸”ì„ í•˜ë‚˜ì”© ì²˜ë¦¬í•˜ëŠ” "ì—”ì§„"ì´ê³ , `takeAll`ì€ ê·¸ ì—”ì§„ì´ ë§Œë“¤ì–´ë‚¸ ê²°ê³¼ë¥¼ ì „ë¶€ ëª¨ì•„ì„œ ë°°ì—´ë¡œ ëŒë ¤ì£¼ëŠ” "ìˆ˜ì§‘ê¸°"ë‹¤.

## ì •ë¦¬

ì´ë²ˆì— ë‹¤ë£¬ ë‚´ìš©ì˜ í•µì‹¬ì€ í•˜ë‚˜ë‹¤.

**ì§€ì—° í‰ê°€ í•¨ìˆ˜ëŠ” ì¦‰ì‹œ í‰ê°€ í•¨ìˆ˜ì˜ ë¹Œë”© ë¸”ë¡ì´ë‹¤.**

- `L.map` + `takeAll` = `map`
- `L.filter` + `takeAll` = `filter`

ì—¬ê¸°ì„œ `takeAll`ì€ `take(Infinity)`ë‹¤. ê·¸ë ‡ë‹¤ë©´ `take(n)`ì€ ë¬´ì—‡ì¸ê°€? "ì²˜ìŒ nê°œë§Œ ëª¨ìœ¼ëŠ” ê²ƒ"ì´ë‹¤. ì¦‰, `take`ì˜ ì¸ìë¥¼ ë°”ê¾¸ëŠ” ê²ƒë§Œìœ¼ë¡œ ì§€ì—° í‰ê°€ì™€ ì¦‰ì‹œ í‰ê°€ë¥¼ ììœ ë¡­ê²Œ ì˜¤ê°ˆ ìˆ˜ ìˆë‹¤.

```javascript
// ì§€ì—° í•¨ìˆ˜ + take(5)  â†’ ì•ì—ì„œ 5ê°œë§Œ
pipe(
  L.map((a) => a * 10),
  take(5)
)

// ì§€ì—° í•¨ìˆ˜ + takeAll   â†’ ì „ë¶€ = ì¦‰ì‹œ í‰ê°€ì™€ ë™ì¼
pipe(
  L.map((a) => a * 10),
  takeAll
)
```

ì²˜ìŒì— `L.map`ê³¼ `L.filter`ë¥¼ ë§Œë“¤ì—ˆì„ ë•ŒëŠ”, ì´ê²ƒë“¤ì´ "í•„ìš”í•  ë•Œ í•˜ë‚˜ì”© ê³„ì‚°í•˜ëŠ” íš¨ìœ¨ì ì¸ ë²„ì „"ì´ë¼ê³  ìƒê°í–ˆë‹¤. ê·¸ê²ƒë„ ë§ë‹¤. í•˜ì§€ë§Œ ë” ì¤‘ìš”í•œ ê²ƒì€, **ì´ë“¤ì´ í•¨ìˆ˜ ì¡°í•©ì˜ ê¸°ë°˜**ì´ ëœë‹¤ëŠ” ì ì´ë‹¤.
