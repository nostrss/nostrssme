---
title: "Babylon.jsÎ•º Ïù¥Ïö©Ìïú 3D ÌéòÏù¥ÏßÄ ÎßåÎì§Ïñ¥Î≥¥Í∏∞"
date: '2023-10-23'
tags: ['babylonjs', '3d', 'nextjs']
draft: false
summary: "Î∏åÎùºÏö∞Ï†ÄÏóêÏÑúÎèÑ 3DÎ•º Íµ¨ÌòÑÌï† Ïàò ÏûàÎã§Îäî Í≤ÉÏùÑ ÏïåÍ≥† Í≥ÑÏÖ®ÎÇòÏöî?"
---

ÏòàÏ†ÑÏóê Ïö∞Ïó∞Ìûà Ï†ïÎßê `ÏïÑÎ¶ÑÎãµÎã§`Í≥† ÏÉùÍ∞ÅÌïú `ÌîÑÎûëÏä§`Ïùò ÏõπÌéòÏù¥ÏßÄÎ•º Î≥∏Ï†ÅÏù¥ ÏûàÏóàÎã§.

![·Ñâ·Ö≥·Ñè·Ö≥·ÑÖ·Öµ·Ü´·Ñâ·Ö£·Ü∫](https://github.com/nostrss/next13-blog/assets/56717167/16598ec7-0c16-4b3b-9b8e-41293a6c9f58)

[üìå Í∑∏Î¶ºÍ≥º Î∞∞Í≤ΩÏùåÏïÖÏù¥ ÏïÑÎ¶ÑÎã§Ïö¥ ÌéòÏù¥ÏßÄ üìå](https://chartogne-taillet.com/fr)

> ÏôÄ Ïù¥Îü∞ ÌéòÏù¥ÏßÄÎäî Ïñ¥ÎñªÍ≤å ÎßåÎì†Í±∏Íπå? Ï†ïÎßê ÎåÄÎã®ÌïòÎã§.

ÎùºÎäî ÏÉùÍ∞ÅÏù¥ Ï†àÎ°ú Îì§Í≤å ÌñàÎçò ÏõπÌéòÏù¥ÏßÄÏòÄÎã§. Í∑∏Î¶¨Í≥† Ïù¥Îü∞ ÌéòÏù¥ÏßÄÎ•º ÎßåÎì§Î†§Î©¥ Ïñ¥ÎñªÍ≤å Ìï¥ÏïºÌï†Íπå ÎùºÎäî ÏÉùÍ∞ÅÏù¥ Îì§ÏóàÏóàÎã§. `3D`Î•º Ïù¥Ïö©Ìïú Í≤É Í∞ôÏùÄÎç∞, Íµ¨Ï≤¥Ï†ÅÏúºÎ°úÎäî Ïñ¥Îñ§ Í∏∞Ïà†ÏùÑ ÏÇ¨Ïö©ÌñàÏùÑÏßÄ Í∞êÏù¥ Ïûò Ïò§ÏßÄ ÏïäÏïòÎã§.

ÎßàÏπò ÎßàÏùÑÌïòÎÇò Ï†ÑÏ≤¥Î•º Î†åÎçîÎßÅÌïòÍ≥† ÌÅ¥Î¶≠Ìï† Í≤ΩÏö∞ Í∑∏ ÎßàÏùÑÎ°ú Ïù¥ÎèôÌïòÎäî Ìö®Í≥ºÍ∞Ä ÏïÑÏ£º ÏïïÍ∂åÏù¥ÏóàÎã§.

Í∑∏Îü∞Îç∞ ÏúÑÏùò ÏõπÌéòÏù¥ÏßÄÎ•º Íµ¨ÌòÑÌï† Ïàò ÏûàÏùÑ Í≤É Í∞ôÏùÄ Í∏∞Ïà†ÏùÑ ÌïòÎÇò Ï∞æÏùÄ Í≤É Í∞ôÏïÑ ÏïåÏïÑ Î≥¥Î†§Í≥† ÌïúÎã§.

Î∞îÎ°ú `Babylon.js`Ïù¥Îã§. ÏöîÏÉà `three.js`ÏôÄ Í∞ôÏù¥ Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú 3DÎ•º Íµ¨ÌòÑÌïòÎäî Í∏∞Ïà†Îì§Ïù¥ ÏûêÏ£º Ïñ∏Í∏âÏù¥ ÎêòÍ≥† ÏûàÎäîÎç∞ Í∑∏ Ï§ëÏóê ÌïòÎÇòÏù¥Îã§.

## Babylon.jsÎûÄ?

[üìå Babylon.js Í≥µÏãù ÌôàÌéòÏù¥ÏßÄ Î∞îÎ°úÍ∞ÄÍ∏∞ üìå](https://www.babylonjs.com/)

`Babylon.js`Îäî `ÎßàÏù¥ÌÅ¨Î°úÏÜåÌîÑÌä∏`ÏóêÏÑú Í∞úÎ∞úÌñàÍ≥† `Íµ¨Í∏ÄÌåÄ`ÎèÑ ÌòëÎ†•ÌïòÏó¨ ÎßåÎì† 3D Î†åÎçîÎßÅ ÏóîÏßÑÏù¥Îã§. ÎßàÏù¥ÌÅ¨Î°úÏÜåÌîÑÌä∏Í∞Ä ÎßåÎì§ÏóàÍ∏∞ ÎïåÎ¨∏Ïóê `Typescript`Î•º ÏßÄÏõêÌïòÎäî Ïû•Ï†êÏù¥ ÏûàÍ≥† Í∑∏ÎßåÌÅº `Ïã†Î¢∞ÎèÑ`Í∞Ä ÎÜíÎã§Í≥† ÏÉùÍ∞ÅÌïúÎã§.

ÌïòÏßÄÎßå `three.js` ÎßåÌÅº ÏïÑÏßÅ Ïª§ÎÆ§ÎãàÌã∞Í∞Ä ÌôúÏÑ±Ìôî ÎêòÏñ¥ÏûàÏßÄÎäî ÏïäÏïÑÏÑú Ïù∏ÏßÄ Í≤ÄÏÉâ Ïãú ÏòàÏ†úÍ∞Ä ÎßéÏù¥ Î∂ÄÏ°±Ìïú Í≤É Í∞ôÏïòÎã§.

Í∑∏Î¶¨Í≥† ÏûêÏÑ∏ÌïòÍ≤åÎäî Î™®Î•¥ÏßÄÎßå `webGPU`Î•º ÏßÄÏõêÌïòÍ∏∞ ÎïåÎ¨∏Ïóê `webGL`Î≥¥Îã§ Îçî Îπ†Î•∏ Î†åÎçîÎßÅÏù¥ Í∞ÄÎä•ÌïòÎã§Í≥† ÌïúÎã§.

## Babylon.jsÎ•º Ïù¥Ïö©Ìïú 3D ÌéòÏù¥ÏßÄ ÎßåÎì§Ïñ¥Î≥¥Í∏∞

Next.js ÌîÑÎ°úÏ†ùÌä∏Î•º ÏÉùÏÑ±ÌïòÍ≥† `Babylon.js`Î•º ÏÑ§ÏπòÌï¥ Ï§¨Îã§.

[üìå Babylon.js ÏÑ§Ïπò Î¨∏ÏÑú Î≥¥Í∏∞ üìå](https://doc.babylonjs.com/setup/frameworkPackages/es6Support#application-creation-summary)

[üìå Babylon.js + React Î¨∏ÏÑú Î≥¥Í∏∞ üìå](https://doc.babylonjs.com/communityExtensions/Babylon.js+ExternalLibraries/BabylonJS_and_ReactJS)

Í∑∏Î¶¨Í≥† react Í¥ÄÎ†® Í≥µÏãù Î¨∏ÏÑúÎ•º Ï∞∏Í≥†ÌïòÏó¨ Î†åÎçîÎßÅ Îê† Ïª¥Ìè¨ÎÑåÌä∏Î•º ÏïÑÎûòÏ≤òÎüº ÏÉùÏÑ±Ìï¥Ï£ºÏóàÎã§.

```tsx
import { useEffect, useRef } from 'react';
import {
  Engine,
  FreeCamera,
  HemisphericLight,
  MeshBuilder,
  Scene,
  Vector3,
} from '@babylonjs/core';

let box: any;
let sphere: any;

const SceneComponent = ({
  antialias,
  engineOptions,
  adaptToDeviceRatio,
  sceneOptions,
  cameraPosition,
  ...rest
}: any) => {
  // canvasÏöîÏÜåÎ•º Ï∞∏Ï°∞Ìï† ref ÏÉùÏÑ±
  const reactCanvas = useRef(null);

  // set up basic engine and scene
  useEffect(() => {
    const { current: canvas } = reactCanvas;

    // canvasÍ∞Ä ÏóÜÏúºÎ©¥ Ï¢ÖÎ£å
    if (!canvas) return;

    // Babylon.js engine ÏÉùÏÑ±
    const engine = new Engine(
      canvas,
      antialias,
      engineOptions,
      adaptToDeviceRatio
    );

    const scene = new Scene(engine, sceneOptions);

    // scene.isReady()Í∞Ä trueÏù¥Î©¥ onSceneReady() Ìò∏Ï∂ú
    if (scene.isReady()) {
      onSceneReady(scene, cameraPosition);
    } else {
      // scene.isReady()Í∞Ä falseÏù¥Î©¥ scene.onReadyObservableÏóê onSceneReady()Î•º Ï∂îÍ∞Ä
      scene.onReadyObservable.addOnce((scene) =>
        onSceneReady(scene, cameraPosition)
      );
    }

    engine.runRenderLoop(() => {
      if (typeof onRender === 'function') onRender(scene);
      scene.render();
    });

    const resize = () => {
      scene.getEngine().resize();
    };

    if (window) {
      window.addEventListener('resize', resize);
    }

    return () => {
      scene.getEngine().dispose();

      if (window) {
        window.removeEventListener('resize', resize);
      }
    };
  }, [
    antialias,
    engineOptions,
    adaptToDeviceRatio,
    sceneOptions,
    cameraPosition,
  ]);

  return <canvas style={{ width: '100%' }} ref={reactCanvas} {...rest} />;
};

const onSceneReady = (scene: any, cameraPosition: any) => {
  // This creates and positions a free camera (non-mesh)
  const camera = new FreeCamera('camera1', cameraPosition, scene);

  // This targets the camera to scene origin
  camera.setTarget(Vector3.Zero());

  const canvas = scene.getEngine().getRenderingCanvas();

  // This attaches the camera to the canvas
  camera.attachControl(canvas, true);

  // This creates a light, aiming 0,1,0 - to the sky (non-mesh)
  const light = new HemisphericLight('light', new Vector3(0, 1, 0), scene);

  // Default intensity is 1. Let's dim the light a small amount
  light.intensity = 0.7;

  // Our built-in 'box' shape.
  box = MeshBuilder.CreateBox('box', { size: 2 }, scene);
  // Move the box upward 1/2 its height
  box.position.y = 0;

  sphere = MeshBuilder.CreateSphere('sphere', { diameter: 2 }, scene);

  sphere.position.x = 4;
  sphere.position.y = 2;

  // Our built-in 'ground' shape.
};

const onRender = (scene: any) => {
  if (box !== undefined) {
    const deltaTimeInMillis = scene.getEngine().getDeltaTime();

    const rpm = 10;
  }
};

export default SceneComponent;
```

Îã§ÏùåÏóêÎäî ÏïÑÎûòÏôÄ Í∞ôÏù¥ import Ìï¥Ï£ºÏñ¥ ÏúÑÏóêÏÑú ÏÉùÏÑ±Ìïú Ïª¥Ìè¨ÎÑåÌä∏Î•º ÏÇ¨Ïö©Ìï¥Ï£ºÏóàÎã§.
Í∑∏Î¶¨Í≥† useState ÏÇ¨Ïö©ÌïòÏó¨ Î≤ÑÌäºÏùÑ ÌÅ¥Î¶≠ÌïòÎ©¥ 3D ÌôòÍ≤ΩÏóêÏÑúÏùò `Ïπ¥Î©îÎùº Î∑∞`Ïùò ÏúÑÏπòÎ•º Î≥ÄÍ≤ΩÌï¥ÎèÑÎ°ù ÏàòÏ†ïÌïòÏòÄÎã§.

```tsx
import { Vector3 } from '@babylonjs/core';
import SceneComponent from '@/components/SceneComponents';
import { useState } from 'react';
import styled from '@emotion/styled';

export default function Home() {
  const [cameraPosition, setCameraPosition] = useState(new Vector3(0, 3, -5));

  const boxPosition = new Vector3(0, 3, -3);
  const spherePosition = new Vector3(7, 4, 0);

  const moveToBox = () => {
    setCameraPosition(boxPosition);
  };

  const moveToSpehere = () => {
    setCameraPosition(spherePosition);
  };

  return (
    <>
      <main>
        <Button onClick={moveToBox}>Goto Box</Button>
        <Button onClick={moveToSpehere}>Goto Sphere</Button>
        <SceneComponent
          antialias
          id='my-canvas'
          cameraPosition={cameraPosition}
        />
      </main>
    </>
  );
}

const Button = styled.button`
  padding: 5px;
  background-color: hotpink;
  font-size: 24px;
  border-radius: 4px;
  color: black;
  font-weight: bold;
  &:hover {
    color: white;
  }
`;
```

## Í≤∞Í≥º

[üìå Í≤∞Í≥ºÎ≥¥Í∏∞ üìå](https://babylon-sample.vercel.app/)

### Ï¥àÍ∏∞ÌôîÎ©¥

![·Ñâ·Ö≥·Ñè·Ö≥·ÑÖ·Öµ·Ü´·Ñâ·Ö£·Ü∫](https://github.com/nostrss/next13-blog/assets/56717167/6ad20de3-eca1-466a-85e4-db14c4576ee0)

### Box ÌÅ¥Î¶≠ Ïãú

![·Ñâ·Ö≥·Ñè·Ö≥·ÑÖ·Öµ·Ü´·Ñâ·Ö£·Ü∫](https://github.com/nostrss/next13-blog/assets/56717167/ffbac887-2545-4f17-9e53-289c01a564e2)

### Sphere ÌÅ¥Î¶≠ Ïãú

![·Ñâ·Ö≥·Ñè·Ö≥·ÑÖ·Öµ·Ü´·Ñâ·Ö£·Ü∫](https://github.com/nostrss/next13-blog/assets/56717167/c75c9348-898e-40bf-ac76-eae4d3bbd04d)

Ï≤òÏùåÏóê Î≥∏ ÏõπÌéòÏù¥ÏßÄÏ≤òÎüº ÏïÑÏßÅ ÏïÑÎ¶ÑÎãµÏßÄÎäî ÏïäÏßÄÎßå Î∞ïÏä§ÏôÄ Íµ¨Í∞Ä ÎßàÏùÑÏù¥ÎùºÍ≥† Í∞ÄÏ†ïÌïòÎ©¥ ÎßàÏùÑÏùÑ Ïù¥ÎèôÌïòÎäî ÏõêÎ¶¨Îäî Íµ¨ÌòÑÎêú Í≤É Í∞ôÏùÄ ÎäêÎÇåÏù¥Îã§.

> 3D Ïû¨Î∞åÎäîÎç∞?
